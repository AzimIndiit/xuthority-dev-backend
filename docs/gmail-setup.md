# Gmail Setup for Email Service

This application now uses Gmail with Nodemailer instead of Brevo. Follow these steps to configure Gmail for sending emails.

## Gmail Configuration Steps

### 1. Enable 2-Factor Authentication
- Go to your Google Account settings
- Navigate to Security → 2-Step Verification
- Enable 2-Factor Authentication if not already enabled

### 2. Generate App Password
- Go to Security → 2-Step Verification → App passwords
- Select "Mail" as the app
- Select "Other" as the device and name it (e.g., "Xuthority App")
- Copy the generated 16-character app password

### 3. Update Environment Variables
Update your `.env` file with your Gmail credentials:

```env
# Email Configuration (Gmail)
MAIL_USERNAME=your-gmail-address@gmail.com
MAIL_PASSWORD=your-16-character-app-password
EMAIL_FROM_NAME=Your App Name
EMAIL_FROM_ADDRESS=your-gmail-address@gmail.com
SUPPORT_EMAIL=support@yourapp.com
```

## Important Notes

1. **Use App Password**: Never use your regular Gmail password. Always use the 16-character app password generated by Google.

2. **Security**: The app password should be treated as sensitive information. Never commit it to version control.

3. **Email Limits**: Gmail has sending limits:
   - Free accounts: 500 emails per day
   - Google Workspace: 2000 emails per day

4. **Testing**: In test environment, emails are not actually sent but logged to console.

## Example Configuration

```javascript
const transporter = nodemailer.createTransport({
  service: "gmail",
  auth: {
    user: process.env.MAIL_USERNAME,
    pass: process.env.MAIL_PASSWORD,
  },
});
```

## Troubleshooting

### Common Issues:

1. **"Invalid login"**: Make sure you're using the app password, not your regular password
2. **"Less secure app access"**: This is no longer needed with app passwords
3. **Connection timeout**: Check your internet connection and firewall settings

### Testing Email Service:

You can test the email service using the forgot password endpoint:

```bash
curl -X POST http://localhost:3000/api/v1/auth/forgot-password \
  -H "Content-Type: application/json" \
  -d '{"email": "test@example.com"}'
```

## Alternative Email Services

If you prefer other email services, you can modify the transporter configuration:

### Outlook/Hotmail:
```javascript
{
  service: "hotmail",
  auth: {
    user: process.env.MAIL_USERNAME,
    pass: process.env.MAIL_PASSWORD,
  }
}
```

### Yahoo:
```javascript
{
  service: "yahoo",
  auth: {
    user: process.env.MAIL_USERNAME,
    pass: process.env.MAIL_PASSWORD,
  }
}
```

### Custom SMTP:
```javascript
{
  host: "smtp.yourprovider.com",
  port: 587,
  secure: false,
  auth: {
    user: process.env.MAIL_USERNAME,
    pass: process.env.MAIL_PASSWORD,
  }
}
``` 